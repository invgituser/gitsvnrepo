<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                template="/WEB-INF/template.xhtml">

    <ui:define name="content">
    <h:form id="ceForm">
    <p:growl id="advisorEditgrowl" showDetail="true" sticky="true" escape="true"/>

    <div class="layout-portlets-box">
        <p:panel id="dPanel1">
            <div class="Container30 Responsive50">
                <div class="ContainerIndent">
                    <div class="DispBlock">
                        <div class="Container20">
                            <p:commandLink id="nonAjax" ajax="false" actionListener="#{cepb.setVisible}">
                                <i class="fa fa-user Fs50 red Fleft MarRight10"></i>
                                <span class="Fs15 gray FontRalewayRegular DispBlock">Profile</span>
                            </p:commandLink>
                        </div>
                        <!--
                                            <div class="Container5">
                                                <div class="ContainerIndent">
                                                </div>
                                            </div>
                        -->
                        <div class="Container30">
                            <div class="ContainerIndent">
                                <p:graphicImage value="/images/growth-active.png" alt="Growth" rendered="#{cepb.displayGoal == 'Growth'}"/>
                                <p:commandLink ajax="true" rendered="#{cepb.displayGoal != 'Growth'}">
                                    <p:graphicImage value="/images/growth.png" alt="Growth"/>
                                    <p:ajax event="click" listener="#{cepb.selectedGoalType(1)}"
                                            update=":ceForm:workArea, :ceForm:dPanel1"/>
                                </p:commandLink>
                            </div>
                        </div>
                        <!--
                                            <div class="Container5">
                                                <div class="ContainerIndent">
                                                </div>
                                            </div>
                        -->
                        <div class="Container30">
                            <div class="ContainerIndent">
                                <p:graphicImage value="/images/income-active.png" alt="Growth" rendered="#{cepb.displayGoal == 'Income'}"/>
                                <p:commandLink ajax="true" rendered="#{cepb.displayGoal != 'Income'}">
                                    <p:graphicImage value="/images/income.png" alt="Income"/>
                                    <p:ajax event="click" listener="#{cepb.selectedGoalType(2)}"
                                            update=":ceForm:workArea, :ceForm:dPanel1"/>
                                </p:commandLink>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Container70 Responsive50">
                <div class="ContainerIndent">
                    <div class="DispBlock">
                        <div class="Container20 Responsive">
                            <div class="ContainerIndent">
                            </div>
                        </div>
                        <div class="Container20 BorderedBox Responsive TexAlCenter">
                            <div class="ContainerIndent">
                                <span class="gray Fs18 FontRalewayMedium DispBlock">Age</span>
                            <span class="black FontRalewayBold Fs18">
                                <p:inplace>
                                    <f:facet name="output">
                                        <h:outputText value="#{cepb.age}"
                                                      styleClass="invLabel" style="width:110px; font-size: 1.2em"/>
                                        <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <pe:inputNumber styleClass="invInput" style="width:35px; font-size: 1.2em"
                                                        value="#{cepb.age}"
                                                        decimalPlaces="0" minValue="1" maxValue="100"
                                                        size="3" maxlength="3">
                                        </pe:inputNumber>
                                    </f:facet>
                                </p:inplace>

                            </span>
                            </div>
                        </div>
                        <div class="Container20 BorderedBox Responsive TexAlCenter">
                            <div class="ContainerIndent">
                                <span class="gray Fs18 FontRalewayMedium DispBlock">Investment</span>
                            <span class="black FontRalewayBold Fs18">
                               <p:inplace>
                                   <f:facet name="output">
                                       <h:outputText value="#{cepb.defaultInvestment}"
                                                     styleClass="invLabel" style="width:110px; font-size: 1.2em"
                                                     size="8" maxlength="9">
                                           <f:convertNumber pattern="$ #,###,###"/>
                                       </h:outputText>
                                       <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                   </f:facet>
                                   <f:facet name="input">
                                       <pe:inputNumber styleClass="invInput" style="width:110px; font-size: 1.2em"
                                                       value="#{cepb.initialInvestment}"
                                                       symbol="$ " decimalPlaces="0" thousandSeparator=","
                                                       size="8" maxlength="9">
                                       </pe:inputNumber>
                                   </f:facet>
                               </p:inplace>
                            </span>
                            </div>
                        </div>
                        <div class="Container20 Responsive TexAlCenter">
                                <h:outputScript name="js/invMeterGuage.js"/>
                                <p:chart type="metergauge" model="#{chartView.meterGaugeModel2}"
                                         style="height: 90px"
                                         extender="meter_extensions"/>

                        </div>
                        <div class="Container20 Responsive TexAlCenter">
                            <div class="Container100 Responsive TexAlCenter">
                               <div class="ContainerIndent">
                                   <p:commandButton value="Save"/>
                               </div>
                            </div>
                            <div class="Container100 Responsive TexAlCenter">
                                <div class="ContainerIndent">
                                    <p:commandButton value="Reset"/>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </p:panel>
    </div>
    <!-- BOX END -->

    <!-- BOX START -->
    <div class="layout-portlets-box">
        <p:outputPanel id="workArea" styleClass="dDataArea">
            <div class="Container40 Responsive50">
                <div class="ContainerIndent">
                    <h3 class="BigTopic">
                        <div class="Wid50 Responsive50 Fleft">Asset Allocation</div>
                        <div class="Wid50 Responsive50 Fright">
                            <h:inputHidden id="allocSlider" value="#{cepb.allocationIndex}"/>
                            <p:slider for="allocSlider">
                                <p:ajax event="slideEnd" listener="#{cepb.onSlider}"
                                        update=":ceForm:workArea"/>
                            </p:slider>
                        </div>
                    </h3>
                    <div class="Container100 Responsive100">
                        <div class="Container50 Responsive50 Fleft">
                            <div class="ContainerIndent">
                                <p:outputPanel deferred="true">
                                    <script type="text/javascript" src="/js/invPie.js"></script>
                                    <p:chart type="pie" model="#{chartView.pieModel2}" style="width:200px;height:200px"
                                             extender="pie_extensions"/>
                                </p:outputPanel>
                            </div>
                        </div>
                        <div class="Container50 Responsive50 Fright">
                            <div class="ContainerIndent">
                           </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Container60 Responsive50">
                <div class="ContainerIndent">
                    <h3 class="BigTopic">
                        <div class="Wid50 Responsive50 Fleft">Portfolio Details</div>
                        <div class="Wid50 Fright Responsive50">
                            <h:inputHidden id="portfolioSlider" value="#{cepb.portfolioIndex}"/>
                            <p:slider for="portfolioSlider">
                                <p:ajax event="slideEnd" listener="#{cepb.onSlider1}"
                                        update=":ceForm:workArea"/>
                            </p:slider>
                        </div>
                    </h3>
                    <div class="Wid100">
                        <p:dataTable id="singleDT" var="car" value="#{dtSelectionView.cars2}" selectionMode="single" selection="#{dtSelectionView.selectedCar}" rowKey="#{car.id}"
                                     rows="5" paginator="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="5,10,15" emptyMessage="No cars found with given criteria" reflow="true">
                            <f:facet name="header">
                                List Of Total Sold Cars
                            </f:facet>

                            <p:column headerText="Id" sortBy="#{car.id}">
                                <h:outputText value="#{car.id}" />
                            </p:column>
                            <p:column headerText="Year" sortBy="#{car.year}">
                                <h:outputText value="#{car.year}" />
                            </p:column>
                            <p:column headerText="Brand" sortBy="#{car.brand}">
                                <h:outputText value="#{car.brand}" />
                            </p:column>
                            <p:column headerText="Color" sortBy="#{car.color}">
                                <h:outputText value="#{car.color}" />
                            </p:column>
                        </p:dataTable>

                    </div>
                </div>
            </div>
        </p:outputPanel>
    </div>
    <!-- BOX END -->

    <p:dialog header="Profile" widgetVar="custPDialog" modal="true"
              visible="#{cepb.visible}"
              showEffect="fade" hideEffect="fade" resizable="true"
              width="674px" top="120px" height="524px" style="background-color: #fff; width: 674px; height: 524px; top:100px; padding: 0px">
        <p:panel id="profileDataEntryid" styleClass="NBwidget">
            <p:carousel numVisible="1" itemStyle="height:400px;width:600px; padding: 0px" effect="easeInStrong"
                        style="margin-bottom:0">
                <p:tab title="I">
                    <ui:include src="/a1.xhtml"/>
                </p:tab>
                <p:tab title="II">
                    <ui:include src="/q1.xhtml"/>
                </p:tab>
                <p:tab title="III">
                    <ui:include src="/q2.xhtml"/>
                </p:tab>
            </p:carousel>
            <f:facet name="footer">
                <p:row>
                    <p:column style="text-align: left">
                        <p:commandButton value="Save" icon="ui-icon-check"
                                         actionListener="#{cepb.save}"
                                         oncomplete="PF('custPDialog').hide();"/>

                    </p:column>
                    <p:column >
                        <p:commandButton value="Reset" update="profileDataEntryid" process="@this" style="text-align: left" >
                            <p:resetInput target="profileDataEntryid" />
                        </p:commandButton>
                    </p:column>
                    <p:column>
                        <p:commandButton value="Cancel" style="text-align: right" icon="ui-icon-close"
                                         oncomplete="PF('custPDialog').hide();"/>
                    </p:column>

                </p:row>
            </f:facet>
        </p:panel>
    </p:dialog>
    </h:form>
        
    </ui:define>

</ui:composition>